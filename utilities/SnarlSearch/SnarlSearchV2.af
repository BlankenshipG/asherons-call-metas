~~ {
~~ FOR AUTO-COMPLETION ASSISTANCE: testvar getvar setvar touchvar clearallvars clearvar getcharintprop getchardoubleprop getcharquadprop getcharboolprop getcharstringprop getisspellknown getcancastspell_hunt getcancastspell_buff getcharvital_base getcharvital_current getcharvital_buffedmax getcharskill_traininglevel getcharskill_base getcharskill_buffed getplayerlandcell getplayercoordinates coordinategetns coordinategetwe coordinategetz coordinatetostring coordinateparse coordinatedistancewithz coordinatedistanceflat wobjectgetphysicscoordinates wobjectgetname wobjectgetobjectclass wobjectgettemplatetype wobjectgetisdooropen wobjectfindnearestmonster wobjectfindnearestdoor wobjectfindnearestbyobjectclass wobjectfindininventorybytemplatetype wobjectfindininventorybyname wobjectfindininventorybynamerx wobjectgetselection wobjectgetplayer wobjectfindnearestbynameandobjectclass actiontryselect actiontryuseitem actiontryapplyitem actiontrygiveitem actiontryequipanywand actiontrycastbyid actiontrycastbyidontarget chatbox chatboxpaste statushud statushudcolored uigetcontrol uisetlabel isfalse istrue iif randint cstr strlen getobjectinternaltype cstrf stopwatchcreate stopwatchstart stopwatchstop stopwatchelapsedseconds cnumber floor ceiling round abs getworldname getitemcountininventorybyname getheading getitemcountininventorybynamerx getheadingto actiontrygiveprofile vitae getfellowshipstatus getfellowshipname getfellowshipisopen getfellowshipisleader getfellowshipleaderid getfellowshipcanrecruit getfellowid getfellowshipcount getfellowshiplocked getfellowname getfellowshipisfull sin cos tan sqrt asin acos atan atan2 sinh cosh tanh vtsetmetastate getregexmatch echo chr ord wobjectgetid wobjectgethealth wobjectfindbyid wobjectgetintprop wobjectfindnearestbytemplatetype wobjectgetopencontainer testquestflag getquestktprogress isrefreshingquests getquestktrequired getqueststatus getisday getgamehour getgamehourname getisnight getgameday getgameticks getminutesuntilday getgamemonth getgamemonthname getminutesuntilnight getgameyear uisetvisible uiviewvisible uiviewexists getgvar touchgvar getpvar touchpvar setgvar cleargvar setpvar clearpvar testgvar clearallgvars testpvar clearallpvars dictgetitem dictcreate dicthaskey dictadditem dictkeys dictremovekey dictvalues dictclear dictsize dictcopy listgetitem listpop listcreate listcontains listremove listadd listindexof listremoveat listinsert listlastindexof listclear listcopy listcount listreverse

~~																						
~~ File auto-generated by metaf, a program created by Eskarina of Morningthaw/Coldeve.	
~~		Get metaf here: https://github.com/JJEII/metaf/									
~~																						
~~ All recognized structural designators:												
~~		STATE:				DO:															
~~		IF:					NAV:														
~~																						
~~ All recognized CONDITION (IF:) operation keywords:									
~~		Never				NavEmpty			MobsInDist_Priority		Not				
~~		Always				Death				NeedToBuff				PSecsInStateGE	
~~		All					VendorOpen			NoMobsInDist			SecsOnSpellGE	
~~		Any					VendorClosed		BlockE					BuPercentGE		
~~		ChatMatch			ItemCountLE			CellE					DistToRteGE		
~~		MainSlotsLE			ItemCountGE			IntoPortal				Expr			
~~		SecsInStateGE		MobsInDist_Name		ExitPortal				ChatCapture		
~~																						
~~ All recognized ACTION (DO:) operation keywords:										
~~		None				EmbedNav			ChatExpr				SetOpt			
~~		SetState			CallState			SetWatchdog				CreateView		
~~		Chat				Return				ClearWatchdog			DestroyView		
~~		DoAll				DoExpr				GetOpt					DestroyAllViews	
~~																						
~~ All recognized NAV types:															
~~		circular			follow														
~~		linear				once														
~~																						
~~ All recognized NAV NODE types:														
~~		flw					vnd															
~~		pnt					ptl															
~~		rcl					tlk															
~~		pau					chk															
~~		cht					jmp															
~~		prt (deprecated in VTank)														
~~ }																

~~ Need a way to end the meta, a chat command to lifestone recall or something

STATE: {Default} ~~ {
	IF:	Always
		DO:	DoAll
				DoExpr {echo[SnarlSearchV2 Meta by Sun Invictus,15]}
				DoExpr {echo[Requires Caul Recall,15]}
				SetState {Settings}			
~~ }
STATE: {Settings} ~~ {
	IF:	Always
		DO:	DoAll
				Chat {/vt opt set navpriorityboost false}
				Chat {/vt opt set enablebuffing true}
				Chat {/vt opt set enablecombat false}
				Chat {/vt opt set enablelooting true}
				Chat {/vt opt set lootonlyrarecorpses false}
				Chat {/vt opt set lootpriorityboost false}
				Chat {/vt opt set lootallcorpses true}
				Chat {/ub opt set VTank.PatchExpressionEngine True}
				SetState {Begin}				
~~ }
STATE: {Begin} ~~ {
	IF: All
			Not NeedToBuff ~~ if buffing at this moment, the nav to Caul can get ignored
		DO: DoAll
				Chat {/vt opt set enablenav true}
				Chat {/ub opt set VTank.FixPortalLoops True}
				EmbedNav nav0 {RecallSingularityCaul.nav}
				SetState {Search}
~~ }
STATE: {Search} ~~ {
	IF:	Always
		DO:	EmbedNav nav1 {GoToCaulLakeArea.nav}
	IF: Any
			NavEmpty
			BlockE 65480000  ~~ Entered random The Orphanage portal
			SecsInStateGE 420 ~~ 7 minutes timeout if get stuck somewhere
		DO: SetState {WaitForLandblockReset}
	IF: Expr {listcount[wobjectfindallbynamerx[`Snarl`]] == 1}
		DO: DoAll
				DoExpr {setvar[foundWObj,listpop[wobjectfindallbynamerx[`Snarl`]]]}
				SetState {End}
~~ }
STATE: {WaitForLandblockReset} ~~ {
	IF:	Always
		DO:	DoAll
				EmbedNav nav2 {LifestoneRecall.nav}
	~~IF: All
		~~	SecsInStateGE 15	
		~~DO: DoAll
			~~	Chat {/ub jumpc}
			~~	DoExpr {setvar[emotelist,listcreate[`*afk*`,`*akimbo*`,`*at ease*`,`*atoyot*`,`*bow*`,`*bowdeep*`,`*crazy dance*`,`*curtsey*`,`*getcomfortable*`,`*haveaseat*`,`*hmmm*`,`*kneel*`,`*lean*`,`*meditate*`,`*play dead*`,`*plead*`,`*point*`,`*point left*`,`*point right*`,`*pointing down*`,`*pray*`,`*read*`,`*salute*`,`*sit*`,`*slouch*`,`*snow angel*`,`*surrender*`,`*talk to the hand*`,`*think*`,`*whoa*`,`*winded*`,`*wait*`]]}
			~~	DoExpr {chatbox[listgetitem[getvar[emotelist],randint[0,32]]]]}
	IF: All
			SecsInStateGE 360 ~~ 6 minutes, landblocks reset in 5 usually
		DO: SetState {Begin}
~~ }
STATE: {End} ~~ {
	IF:	Always
		DO:	DoAll
				Chat {/vt opt set enablecombat true}
				Chat {/vt opt set enablenav false}
				DoExpr {echo[Snarl Found!,15]}
				~~Chat {/ub opt set Arrow.Enabled True}
				~~Chat {/ub opt set Arrow.Visible True}
				~~DoExpr {setvar[foundCoords,coordinatetostring[wobjectgetphysicscoordinates[$foundWObj]]]}
				~~DoExpr {chatbox[/ub arrow point $foundCoords{{0:14}}]}
	~~IF: Expr {listcount[wobjectfindallbynamerx[`Snarl`]] == 0}
		~~DO: DoAll
				~~Chat {/ub opt set Arrow.Enabled False}
				~~Chat {/ub opt set Arrow.Visible False}
~~ }

~~========================= ONLY NAVS APPEAR BELOW THIS LINE =========================~~

NAV: nav0 once ~~ {
	rcl -101.783333333333 37.9951454162598 2.08333134651184E-05 {Recall to the Singularity Caul}
~~ }
NAV: nav1 once ~~ {
	pnt -94.7029923001925 -97.9648071924845 0.364739322662354
	pnt -94.7050118645032 -97.8688453912735 0.362103207906087
	pnt -94.6803072849909 -97.642885907491 0.372023073832194
	pnt -94.6152225017548 -97.5500195185343 0.441672865549723
	pnt -94.4981032371521 -97.5476849873861 0.440530014038086
	pnt -94.4236928939819 -97.5249950408936 0.418223762512207
	pnt -94.4072788874308 -97.5093436876933 0.403558921813965
	pnt -94.3500054041545 -97.4335701942444 0.33770071665446
	pnt -94.3840147972107 -97.3832320531209 0.31424814860026
	pnt -94.4602196057638 -97.2880653381348 0.284348233540853
	pnt -94.5296146869659 -97.2417195638021 0.234310293197632
	pnt -94.571781094869 -97.1955418904622 0.206125100453695
	pnt -94.55295753479 -97.1381307164828 0.183354171117147
	pnt -94.5060926278432 -97.1072984218597 0.154082584381104
	pnt -94.4550160090129 -97.102291738987 0.12358918984731
	pnt -94.4142214457194 -97.1021548827489 0.105766868591309
	pnt -94.3853628158569 -97.0956588427226 0.0958653052647909
	pnt -94.3374491691589 -97.0941037575404 0.0811991691589355
	pnt -94.2856498718262 -97.104345703125 0.0681003411610921
	pnt -94.2376929601034 -97.0957237203916 0.0608260194460551
	pnt -94.1746472676595 -97.0899397214254 0.0533491412798564
	pnt -94.1074517567952 -97.0729402780533 0.0519325216611226
	pnt -94.0548565546672 -97.0490954875946 0.0500208298365275
	pnt -93.9888147354126 -97.0186444918315 0.0679301023483276
	pnt -93.9275210440159 -96.979398504893 0.0728838682174683
	pnt -93.8734502315521 -96.9372759819031 0.0783854564030965
	pnt -93.8182033697764 -96.8952857335409 0.0768848419189453
	pnt -93.7584166844686 -96.8873522122701 0.0760255575180054
	pnt -93.7247732321421 -96.907115538915 0.0788641532262166
	pnt -93.6668277740478 -96.9331445376078 0.080544924736023
	pnt -93.6387618382772 -96.9299643039703 0.0781418482462565
	pnt -93.5648450533549 -96.887771209081 0.0587902069091797
	pnt -93.4950275103251 -96.8384322802226 0.0435118397076925
	pnt -93.4450852711995 -96.8048268000285 0.033339516321818
	pnt -93.3823579788208 -96.757457002004 0.0149900048971176
	pnt -93.3187400182088 -96.7169691721598 0.00938715736071269
	pnt -93.2589548746745 -96.7048190116882 0.00835416714350382
	pnt -93.207151222229 -96.6976161956787 0.0190663635730743
	pnt -93.123628638188 -96.680757522583 0.012470954656601
	pnt -93.1434315140049 -96.6565905570984 0.00276505847771962
	pnt -93.1442796160777 -96.5284528096517 0.00504212478796641
	pnt -93.1421300371488 -96.4663848876953 0.0159241735935211
	pnt -93.1380990773439 -96.4041543324788 0.0214997152487437
	pnt -93.1657354990641 -96.3490296681722 0.026574711004893
	pnt -93.2102944691976 -96.3086369593938 0.0403861323992411
	pnt -93.2624939600627 -96.2690322796504 0.0640077193578084
	pnt -93.2632512410482 -96.2634329636892 0.0660386164983114
	pnt -93.2114500681559 -96.3137842218081 0.0391956170399984
	pnt -93.1350347340107 -96.3791487375895 0.0238388776779175
	pnt -93.106777314345 -96.4539614359538 0.0202893912792206
	pnt -93.0926927049955 -96.501548131307 0.0214631080627441
	pnt -93.0656430482864 -96.5086268107096 0.0237172464529673
	pnt -93.0111687660217 -96.4874214172363 0.0347286383310954
	pnt -92.9272775332133 -96.3983945846558 0.110067176818848
	pnt -92.8771562894185 -96.3530642827352 0.138913774490356
	pnt -92.8141300519307 -96.3003816843033 0.153644148508708
	pnt -92.7652898788452 -96.2650558630625 0.123488036791484
	pnt -92.751855913798 -96.2512606700261 0.109813253084819
	pnt -92.7467126210531 -96.2458280881246 0.109028585751851
	pnt -92.7366176287333 -96.2331817070643 0.111127106348673
	pnt -92.700102519989 -96.1881512006124 0.1119846423467
	pnt -92.6032735188802 -96.1487553914388 0.0834308862686157
	pnt -92.5500617345174 -96.1214603741964 0.105947025616964
	pnt -92.4967948913574 -96.1299381732941 0.115019687016805
	pnt -92.4412724177043 -96.1664711475372 0.120159991582235
	pnt -92.3719434102376 -96.2113585631053 0.116995644569397
	pnt -92.3181013782819 -96.2469709793727 0.103436303138733
	pnt -92.271728849411 -96.2767579396566 0.111003081003825
	pnt -92.25619708697 -96.2701700607936 0.111199418703715
	pnt -92.1994414965312 -96.2606970628103 0.0890709638595581
	pnt -92.191273244222 -96.2222308238347 0.0861987829208374
	pnt -92.1539434274038 -96.1913662751516 0.0732167402903239
	pnt -92.1153391838074 -96.1911952972412 0.0715878883997599
	pnt -92.0563567479451 -96.1927800178528 0.0684205611546834
	pnt -92.0574939727783 -96.2360334952672 0.0613064169883728
	pnt -92.0556053479513 -96.2466240326564 0.0593839406967163
	pnt -92.0572932243347 -96.2855833729108 0.0530313690503438
	pnt -92.0074494361877 -96.349709859242 0.045257556438446
	pnt -91.9552341461182 -96.377907816569 0.0542359511057536
	pnt -91.9080320358276 -96.4131129582723 0.0609630664189657
	pnt -91.8680800120036 -96.4663049697876 0.0762316544850667
	pnt -91.8235324541728 -96.4989456812541 0.0809728145599365
	pnt -91.78966700236 -96.522961362203 0.0821533044179281
	pnt -91.7714069366455 -96.5153589248657 0.0793645620346069
	pnt -91.7176002502441 -96.5179916381836 0.083419394493103
	pnt -91.6603244781494 -96.5192323684692 0.0931721448898315
	pnt -91.6098243713379 -96.534547551473 0.0974454243977865
	pnt -91.5707410176595 -96.5669244766235 0.101431202888489
	pnt -91.5466798355182 -96.6216840108236 0.105717825889587
	pnt -91.5402697136005 -96.6795420646667 0.110005148251851
	pnt -91.5272022624811 -96.7288316726685 0.113023662567139
	pnt -91.5095762372017 -96.7964220364888 0.106081700325012
	pnt -91.473060576121 -96.7887051264445 0.103825028737386
	pnt -91.4044058958689 -96.8091310501099 0.0916874965031942
	pnt -91.3059878031413 -96.8272532780965 0.0990228652954102
	pnt -91.2718378384908 -96.800688457489 0.104714520772298
	pnt -91.2216370582581 -96.7563937822978 0.113081320126851
	pnt -91.1692841529846 -96.7257850329081 0.11736007531484
	pnt -91.1145533243815 -96.7247831980387 0.115762742360433
	pnt -91.0602495511373 -96.7112657546997 0.112605508168538
	pnt -91.0101620356242 -96.7005172729492 0.112563935915629
	pnt -90.9559487024943 -96.7112199147542 0.099638024965922
	pnt -90.92296555837 -96.7389494260152 0.0957821289698283
	pnt -90.8812507629395 -96.7711828231812 0.0956513643264771
	pnt -90.8403179168701 -96.8146200815837 0.0946358283360799
	pnt -90.797373453776 -96.8594921747843 0.0924785137176514
	pnt -90.7746189117432 -96.8547701517741 0.0920850118001302
	pnt -90.7259253422419 -96.817894744873 0.0916874965031942
	pnt -90.6776253064474 -96.7812667210897 0.0916874965031942
	pnt -90.6297628084819 -96.7561366717021 0.0921988884607951
	pnt -90.5823288281759 -96.7383664766947 0.0926569620768229
	pnt -90.5875061829885 -96.7085174560547 0.0944816509882609
	pnt -90.6056716918945 -96.6268487612406 0.0964913209279378
	pnt -90.6287708759308 -96.591615931193 0.106213323275248
	pnt -90.6986934741338 -96.5673175175985 0.122188409169515
	pnt -90.7552135467529 -96.5417918523153 0.124336822827657
	pnt -90.8125010808309 -96.5109517415365 0.12176681359609
	pnt -90.8553075154622 -96.4601464589437 0.117090749740601
	pnt -90.8459183375041 -96.4050175984701 0.112938968340556
	pnt -90.8043574015299 -96.3476392909884 0.104747343063354
	pnt -90.7882006327311 -96.3394813477993 0.104080772399902
	pnt -90.7099086801211 -96.3456158573429 0.0996554851531982
	pnt -90.6823465029399 -96.3133567412694 0.0969672282536825
	pnt -90.672362279892 -96.2336416403453 0.0898239771525065
	pnt -90.666264128685 -96.161785252889 0.090705394744873
	pnt -90.5879860877991 -96.1887211958567 0.0897464434305827
	pnt -90.5189955552419 -96.2032588164012 0.0877923965454102
	pnt -90.4621629397074 -96.2169872283935 0.0924114068349202
	pnt -90.4052107810974 -96.2275482416153 0.0935584783554077
	pnt -90.3740249633789 -96.2157109419505 0.0945449193318685
	pnt -90.3479429880778 -96.190210946401 0.0966699202855428
	pnt -90.2996368726095 -96.128675031662 0.103574991226196
	pnt -90.2478567441305 -96.0998201529185 0.112565795580546
	pnt -90.1931936899821 -96.0638244628906 0.117982896169027
	pnt -90.1524549484253 -96.0313095728556 0.119597991307576
	pnt -90.09459400177 -95.977311484019 0.114950752258301
	pnt -90.1056288401286 -95.9412876764933 0.120083284378052
	pnt -90.1204596837362 -95.8759564717611 0.108354171117147
	pnt -90.1135047912598 -95.8496212005615 0.108291029930115
	pnt -90.0975175857544 -95.7777647654216 0.0963149547576904
	pnt -90.0883506774902 -95.7032986958822 0.0877957264582316
	pnt -90.0891593297323 -95.6408685684204 0.0833541631698608
	pnt -90.0928780873617 -95.5795044581095 0.0833541631698608
	pnt -90.0928801854452 -95.5778378168742 0.0833541631698608
	pnt -90.0929529190064 -95.5203029751778 0.0833541631698608
	pnt -90.0932899475098 -95.5115723729134 0.0833541631698608
	pnt -90.0781571070353 -95.4486745119095 0.0834646224975586
	pnt -90.0794755935669 -95.3845487594604 0.0888084332148234
	pnt -90.0838937123617 -95.3188184579214 0.0942859570185343
	pnt -90.1078672409058 -95.2692672411601 0.104131611188253
	pnt -90.1464678446452 -95.2215446472168 0.100609525044759
	pnt -90.1981537501017 -95.188905620575 0.096008022626241
	pnt -90.2021635691325 -95.186283493042 0.0956738710403442
	pnt -90.266525777181 -95.0957582155863 0.100727796554565
	pnt -90.2966499328613 -95.0410111745199 0.114488863945007
	pnt -90.3191300710042 -94.9795117696126 0.125134015083313
	pnt -90.3511417388916 -94.9269803365072 0.124925684928894
	pnt -90.3992158253988 -94.8859047571818 0.119810263315837
	pnt -90.4127786318461 -94.8581068674723 0.115233302116394
	pnt -90.4448293685913 -94.8159245808919 0.115756940841675
	pnt -90.4947166601817 -94.7865976333618 0.114518253008525
	pnt -90.5332745234171 -94.7594640096029 0.11035308043162
	pnt -90.5829486211141 -94.724710448583 0.102862723668416
	pnt -90.585674349467 -94.7227922777335 0.102408440907796
	pnt -90.6292931556702 -94.6910886287689 0.0951386372248332
	pnt -90.6599575122197 -94.6376949469248 0.0937383413314819
	pnt -90.6880533218384 -94.6322993357976 0.0946376085281372
	pnt -90.7382480283578 -94.6643146832784 0.0916874965031942
	pnt -90.7937925974528 -94.6511784791946 0.0916874965031942
	pnt -90.823086865743 -94.6706510702769 0.0916875044504801
	pnt -90.8654806772868 -94.6981724739075 0.0903974453608195
	pnt -90.9160624821981 -94.6967966596285 0.0883254845937093
	pnt -90.9692752202352 -94.6790853261948 0.0865954478581746
	pnt -91.0268188158671 -94.660043668747 0.078626537322998
	pnt -91.0807406743368 -94.6486774206162 0.070668888092041
	pnt -91.1381731033325 -94.6548910617828 0.0619556665420532
	pnt -91.1954347928365 -94.6679952383041 0.0567801117897034
	pnt -91.1954638799032 -94.6863989392916 0.0629098296165466
	pnt -91.1868922869364 -94.7436002577345 0.0808644930521647
	pnt -91.1504010836283 -94.7795405069987 0.0892257928848267
	pnt -91.1230133374532 -94.8384513219198 0.0897767225901286
	pnt -91.1463740348816 -94.8769039789836 0.0836563269297282
	pnt -91.1639162699382 -94.9359778086344 0.0833541631698608
	pnt -91.1482370694478 -94.9991225560506 0.0833541631698608
	pnt -91.1694199244181 -95.0155440012614 0.0833541631698608
	pnt -91.2369269053141 -95.061354637146 0.0833541631698608
	pnt -91.2986371676127 -95.1034549077352 0.0874072631200155
	pnt -91.3563221613566 -95.1428720792135 0.0922143459320068
	pnt -91.3596337636312 -95.1775964419047 0.0893877983093262
	pnt -91.3653654734294 -95.2543164889018 0.0833541631698608
	pnt -91.3721294720968 -95.3104781786601 0.0929413398106893
	pnt -91.3724008242289 -95.3125190416972 0.0933837175369263
	pnt -91.3969748179118 -95.3076743602753 0.086029060681661
	pnt -91.4463509877523 -95.2686804771423 0.0833541552225749
	pnt -91.4959968010585 -95.229958597819 0.0866943995157878
	pnt -91.556328646342 -95.1835417111715 0.0939031600952148
	pnt -91.6128794352214 -95.1397811253866 0.0973355929056803
	pnt -91.6475746790568 -95.1513646443685 0.0916621685028076
	pnt -91.7048838297526 -95.1944829622905 0.0999680598576864
	pnt -91.7538842519124 -95.2341092745463 0.093011728922526
	pnt -91.7741247812907 -95.2362992286682 0.0928292274475098
	pnt -91.8551570574443 -95.2539450009664 0.0918895085652669
	pnt -91.8867341995239 -95.2662190755208 0.0951066891352336
	pnt -91.9372901916504 -95.312775739034 0.0957732439041138
	pnt -91.992533047994 -95.3562159379323 0.0987763325373332
	pnt -92.0481149673462 -95.3939727942149 0.104532678922017
	pnt -92.0614356040955 -95.4446935256322 0.102231852213542
	pnt -92.0515426953634 -95.5083441972733 0.0998922745386759
	pnt -92.0688634554545 -95.5631225585937 0.0962617794672648
	pnt -92.080411974589 -95.6302487691244 0.0858884970347087
	pnt -92.0959572474162 -95.6784219106038 0.087183936436971
~~ }
NAV: nav2 once ~~ {
	rcl 56.8844753265381 33.6273729642232 0.175020837783813 {Lifestone Recall}
~~ }
